webpackJsonp([1],{"8rBr":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=a("VU/8")({name:"web"},o,!1,function(t){a("Ul7i")},null,null).exports,s=a("/ocq"),l=a("mvHQ"),r=a.n(l),d=a("//Fk"),c=a.n(d),u={data:function(){return{logining:!1,account:{username:"admin",pwd:"123456"},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"}]},checked:!0}},methods:{handleLogin:function(){var t=this;this.$refs.AccountFrom.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.logining=!0;t.account.username,t.account.pwd;new c.a(function(t,e){setTimeout(function(){t({msg:"",code:200,user:{name:"admin"}})},600)}).then(function(e){t.logining=!1;var a=e.msg,i=e.code,o=e.user;200!==i?t.$message({message:a,type:"error"}):(sessionStorage.setItem("access-user",r()(o)),t.$router.push({path:"/"}))})})}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"AccountFrom",staticClass:"demo-ruleForm login-container",attrs:{model:t.account,rules:t.rules,"label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"title"},[t._v("系统登录")]),t._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:t.account.username,callback:function(e){t.$set(t.account,"username",e)},expression:"account.username"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"pwd"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:t.account.pwd,callback:function(e){t.$set(t.account,"pwd",e)},expression:"account.pwd"}})],1),t._v(" "),a("el-checkbox",{staticClass:"remember",attrs:{checked:""},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("记住密码")]),t._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:t.logining},nativeOn:{click:function(e){e.preventDefault(),t.handleLogin(e)}}},[t._v("登录")])],1)],1)},staticRenderFns:[]};var p=a("VU/8")(u,m,!1,function(t){a("dS2y")},"data-v-7f96959e",null).exports,h=new i.default;function f(t,e){var a,i,o=window.URL||window.webkitURL||window,n=new Blob([e]),s=document.createElementNS("http://www.w3.org/1999/xhtml","a");s.href=o.createObjectURL(n),s.download=t,a=s,(i=document.createEvent("MouseEvents")).initEvent("click",!0,!0),a.dispatchEvent(i)}var v={name:"home",data:function(){return{sysUserName:"",sysUserAvatar:"",saveStatus:!1,saveBtnText:"保存",collapsed:!1}},methods:{handleOpen:function(){},handleClose:function(){},saveCase:function(){var t=this;h.$emit("is-save-caser",1),h.$emit("is-save-brand",1),h.$emit("is-save-news",1),this.saveStatus=!0,this.saveBtnText="生成中",setTimeout(function(){t.saveStatus=!1,t.saveBtnText="保存",h.jsonRawCaser&&f("mongodb.json",r()(h.jsonRawCaser)),h.jsonRawBrand&&f("mongodb-brand.json",r()(h.jsonRawBrand)),h.jsonRawNews&&f("mongodb-news.json",r()(h.jsonRawNews))},1e3)},logout:function(){var t=this;this.$confirm("确认退出吗?","提示",{}).then(function(){sessionStorage.removeItem("access-user"),t.$router.push("/login")}).catch(function(){})}},mounted:function(){var t=sessionStorage.getItem("access-user");t&&(t=JSON.parse(t),this.sysUserName=t.name||"")}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"container"},[a("el-col",{staticClass:"topbar-wrap",attrs:{span:24}},[a("header",{staticClass:"topbar-fluid"},[a("div",{staticClass:"topbar-brand"},[a("span",{staticClass:"topbar-logo"},[a("i",{staticClass:"el-icon-setting"})]),a("span",{staticClass:"topbar-title"},[t._v("SETTING")])]),t._v(" "),a("div",{staticClass:"topbar-account"},[a("div",{staticClass:"topbar-user"},[a("el-dropdown",{attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link userinfo-inner"},[t._v("Hello, "+t._s(t.sysUserName)+" "),a("i",{staticClass:"el-icon-arrow-down"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(e){t.logout(e)}}},[t._v("退出登录")])],1)],1)],1),t._v(" "),a("div",{staticClass:"topbar-opts"},[a("el-button",{attrs:{type:"primary",loading:t.saveStatus,plain:""},on:{click:t.saveCase}},[t._v(t._s(t.saveBtnText))]),t._v(" "),a("span",{staticStyle:{"margin-left":"20px","font-size":"16px","line-height":"36px",color:"#666"}},[t._v("提示：编辑完成之后，会保存文件，把该文件发给O_O上传即可！")])],1)])])]),t._v(" "),a("el-col",{staticClass:"main",attrs:{span:24}},[a("aside",{class:t.collapsed?"menu-collapsed":"menu-expanded"},[a("el-menu",{directives:[{name:"show",rawName:"v-show",value:!t.collapsed,expression:"!collapsed"}],attrs:{"default-active":"0",router:""},on:{open:t.handleOpen,close:t.handleClose}},[t._l(t.$router.options.routes,function(e,i){return e.menuShow?t._l(e.children,function(e){return e.menuShow?a("el-menu-item",{key:e.path,attrs:{index:e.path}},[t._v(t._s(e.name))]):t._e()}):t._e()})],2)],1),t._v(" "),a("section",{staticClass:"content-container"},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)],1)])])],1)},staticRenderFns:[]};var b=a("VU/8")(v,g,!1,function(t){a("neSg"),a("sWE4")},"data-v-5142d555",null).exports,F=a("woOf"),w=a.n(F),_=a("JWFR");var C={components:{VueUEditor:_.a},data:function(){return{filters:{name:""},tableData:[],total:0,page:1,onePageCount:20,listLoading:!1,sels:[],editFormVisible:!1,editLoading:!1,editFormRules:{pa:[{required:!0,message:"请输入服务品牌",trigger:"blur"}],th:[{required:!0,message:"请输入封面图片地址",trigger:"blur"}],tp:[{required:!0,message:"请选择类型",trigger:"change"}]},editForm:{id:"",tp:"",pa:"",ca:"",cl:"",th:"",pr:"",de:"",lk:""},currentEdit:null,addFormVisible:!1,addLoading:!1,addForm:{id:"",tp:"",pa:"",ca:"",cl:"",th:"",pr:"",de:"",lk:""}}},computed:{currentPageData:function(){var t=this.onePageCount;return this.tableData.slice((this.page-1)*t,this.page*t)}},methods:{handleCurrentChange:function(t){this.listLoading=!0,this.page=t,this.handleCurrentData()},handleCurrentData:function(){var t=this;setTimeout(function(){t.listLoading=!1},300+Math.round(200*Math.random()))},getBooks:function(){var t=this;this.listLoading=!0,this.$http({url:"./assets/mongodb/mongodb.json",method:"get"}).then(function(e){t.tableData=e.data.caser,t.inc=parseInt(e.data.inc),t.total=Math.ceil(t.tableData.length/t.onePageCount),t.listLoading=!1}).catch(function(t){console.log("Works.vue: ",t)})},selsChange:function(t){this.sels=t},editorReadyEditForm:function(t){this.ue_edit=t,t.setHeight(240),t.execCommand("source"),t.setContent(this.editForm.de)},editSubmit:function(){var t=this;this.editForm.de=this.ue_edit.getContent(),this.$refs.editForm.validate(function(e){e&&(w()(t.currentEdit,t.editForm),t.editFormVisible=!1)})},showEditDialog:function(t,e){this.editFormVisible=!0,this.editForm=w()({},e),this.currentEdit=e,this.ue_edit&&this.ue_edit.setContent(this.editForm.de)},editorReadyAddForm:function(t){var e=this;this.ue_add=t,t.setHeight(240),t.execCommand("source"),t.addListener("contentChange",function(){e.addForm.de=t.getContent()})},addSubmit:function(){var t=this;this.addForm.de=this.ue_add.getContent(),this.$refs.addForm.validate(function(e){e&&(t.tableData.unshift(w()({},t.addForm)),t.addFormVisible=!1)})},showAddDialog:function(){w()(this.addForm,{id:++this.inc+"",tp:"",pa:"",ca:"",cl:"",th:"",pr:"",de:"",lk:"#"}),this.ue_add&&this.ue_add.setContent(this.addForm.de),this.addFormVisible=!0},delBook:function(t,e){var a=this;this.$confirm("确认删除该案例吗?","提示",{type:"warning"}).then(function(){a.tableData.splice(t,1),a.$message({message:"删除成功",type:"success"})},function(){})}},mounted:function(){var t=this;h.$off("is-save-caser"),h.$on("is-save-caser",function(e){h.jsonRawCaser={caser:t.tableData,inc:t.inc}})},created:function(){this.getBooks()}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-main",attrs:{span:24}},[a("div",{staticClass:"m-portlet"},[a("div",{staticClass:"m-portlet-body"},[a("div",{staticClass:"el-upload el-upload--picture-card",staticStyle:{width:"100%",height:"90px","line-height":"100px",cursor:"pointer"},on:{click:t.showAddDialog}},[a("i",{staticClass:"el-icon-plus"})])])]),t._v(" "),a("div",{staticClass:"m-portlet marginles"},[a("div",{staticClass:"m-portlet-body"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.currentPageData,"highlight-current-row":""},on:{"selection-change":t.selsChange}},[a("el-table-column",{attrs:{label:"缩略图(400x400)",prop:"th",width:"220"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.th,width:"200"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"pa",label:"服务品牌",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cl",label:"服务内容",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ca",label:"所属行业",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pr",label:"简介内容"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){t.showEditDialog(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){t.delBook(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"toolbar-page"},[a("el-pagination",{attrs:{layout:"prev, pager, next","page-size":10,total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)]),t._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:t.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.editFormVisible=e}}},[a("el-form",{ref:"editForm",attrs:{model:t.editForm,"label-width":"100px",rules:t.editFormRules}},[a("el-form-item",{attrs:{label:"服务品牌",prop:"pa"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.pa,callback:function(e){t.$set(t.editForm,"pa",e)},expression:"editForm.pa"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"服务内容",prop:"cl"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.cl,callback:function(e){t.$set(t.editForm,"cl",e)},expression:"editForm.cl"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"缩略图",prop:"th"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.th,callback:function(e){t.$set(t.editForm,"th",e)},expression:"editForm.th"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"所属行业",prop:"ca"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.ca,callback:function(e){t.$set(t.editForm,"ca",e)},expression:"editForm.ca"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设计类型",prop:"tp"}},[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:t.editForm.tp,callback:function(e){t.$set(t.editForm,"tp",e)},expression:"editForm.tp"}},[a("el-option",{attrs:{label:"电商设计",value:"online"}}),t._v(" "),a("el-option",{attrs:{label:"包装设计",value:"packing"}}),t._v(" "),a("el-option",{attrs:{label:"品牌设计",value:"brand"}}),t._v(" "),a("el-option",{attrs:{label:"摄影/视频",value:"shoot"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"简介内容"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.editForm.pr,callback:function(e){t.$set(t.editForm,"pr",e)},expression:"editForm.pr"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"详情描述"}},[a("div",{staticStyle:{"line-height":"normal"}},[a("VueUEditor",{attrs:{ueditorPath:"./assets/ueditor/"},on:{ready:t.editorReadyEditForm}})],1)]),t._v(" "),a("el-form-item",{attrs:{label:"链接地址"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.lk,callback:function(e){t.$set(t.editForm,"lk",e)},expression:"editForm.lk"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(e){t.editFormVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.editLoading},nativeOn:{click:function(e){t.editSubmit(e)}}},[t._v("确定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"新增",visible:t.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.addFormVisible=e}}},[a("el-form",{ref:"addForm",attrs:{model:t.addForm,"label-width":"100px",rules:t.editFormRules}},[a("el-form-item",{attrs:{label:"服务品牌",prop:"pa"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.pa,callback:function(e){t.$set(t.addForm,"pa",e)},expression:"addForm.pa"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"服务内容",prop:"cl"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.cl,callback:function(e){t.$set(t.addForm,"cl",e)},expression:"addForm.cl"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"缩略图",prop:"th"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.th,callback:function(e){t.$set(t.addForm,"th",e)},expression:"addForm.th"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"所属行业",prop:"ca"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.ca,callback:function(e){t.$set(t.addForm,"ca",e)},expression:"addForm.ca"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设计类型",prop:"tp"}},[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:t.addForm.tp,callback:function(e){t.$set(t.addForm,"tp",e)},expression:"addForm.tp"}},[a("el-option",{attrs:{label:"电商设计",value:"online"}}),t._v(" "),a("el-option",{attrs:{label:"包装设计",value:"packing"}}),t._v(" "),a("el-option",{attrs:{label:"品牌设计",value:"brand"}}),t._v(" "),a("el-option",{attrs:{label:"摄影/视频",value:"shoot"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"简介内容"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.addForm.pr,callback:function(e){t.$set(t.addForm,"pr",e)},expression:"addForm.pr"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"详情描述"}},[a("div",{staticStyle:{"line-height":"normal"}},[a("VueUEditor",{attrs:{ueditorPath:"./assets/ueditor/"},on:{ready:t.editorReadyAddForm}})],1)]),t._v(" "),a("el-form-item",{attrs:{label:"链接地址"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.lk,callback:function(e){t.$set(t.addForm,"lk",e)},expression:"addForm.lk"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(e){t.addFormVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.addLoading},nativeOn:{click:function(e){t.addSubmit(e)}}},[t._v("确定")])],1)],1)],1)],1)},staticRenderFns:[]},y=a("VU/8")(C,k,!1,null,null,null).exports;var x={data:function(){return{filters:{name:""},tableData:[],total:0,page:1,onePageCount:20,listLoading:!1,sels:[],editFormVisible:!1,editLoading:!1,editFormRules:{na:[{required:!0,message:"请输入品牌名称",trigger:"blur"}],ul:[{required:!0,message:"请输入品牌图片地址",trigger:"change"}]},editForm:{id:"",na:"",ul:""},currentEdit:null,addFormVisible:!1,addLoading:!1,addForm:{id:"",na:"",ul:""}}},computed:{currentPageData:function(){var t=this.onePageCount;return this.tableData.slice((this.page-1)*t,this.page*t)}},methods:{handleCurrentChange:function(t){this.listLoading=!0,this.page=t,this.handleCurrentData()},handleCurrentData:function(){var t=this;setTimeout(function(){t.listLoading=!1},300+Math.round(200*Math.random()))},getBooks:function(){var t=this;this.listLoading=!0,this.$http({url:"./assets/mongodb/mongodb-brand.json",method:"get"}).then(function(e){t.tableData=e.data.brand,t.inc=parseInt(e.data.inc),t.total=Math.ceil(t.tableData.length/t.onePageCount),t.listLoading=!1}).catch(function(t){console.log("AdminBrands.vue: ",t)})},selsChange:function(t){this.sels=t},editSubmit:function(){var t=this;this.$refs.editForm.validate(function(e){e&&(w()(t.currentEdit,t.editForm),t.editFormVisible=!1)})},showEditDialog:function(t,e){this.editFormVisible=!0,this.editForm=w()({},e),this.currentEdit=e},addSubmit:function(){var t=this;this.$refs.addForm.validate(function(e){e&&(t.tableData.unshift(w()({},t.addForm)),t.addFormVisible=!1)})},showAddDialog:function(){w()(this.addForm,{id:++this.inc+"",na:"",ul:""}),this.addFormVisible=!0},delBook:function(t,e){var a=this;this.$confirm("确认删除该品牌吗?","提示",{type:"warning"}).then(function(){a.tableData.splice(t,1),a.$message({message:"删除成功",type:"success"})},function(){})}},mounted:function(){var t=this;h.$off("is-save-brand"),h.$on("is-save-brand",function(e){h.jsonRawBrand={brand:t.tableData,inc:t.inc}})},created:function(){this.getBooks()}},$={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-main",attrs:{span:24}},[a("div",{staticClass:"m-portlet"},[a("div",{staticClass:"m-portlet-body"},[a("div",{staticClass:"el-upload el-upload--picture-card",staticStyle:{width:"100%",height:"90px","line-height":"100px",cursor:"pointer"},on:{click:t.showAddDialog}},[a("i",{staticClass:"el-icon-plus"})])])]),t._v(" "),a("div",{staticClass:"m-portlet marginles"},[a("div",{staticClass:"m-portlet-body"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.currentPageData,"highlight-current-row":""},on:{"selection-change":t.selsChange}},[a("el-table-column",{attrs:{label:"品牌图(400x400)",prop:"ul",width:"520"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.ul,width:"400"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"na",label:"品牌名称"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){t.showEditDialog(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){t.delBook(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"toolbar-page"},[a("el-pagination",{attrs:{layout:"prev, pager, next","page-size":10,total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)]),t._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:t.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.editFormVisible=e}}},[a("el-form",{ref:"editForm",attrs:{model:t.editForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"品牌名称"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.na,callback:function(e){t.$set(t.editForm,"na",e)},expression:"editForm.na"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"品牌图片"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.ul,callback:function(e){t.$set(t.editForm,"ul",e)},expression:"editForm.ul"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(e){t.editFormVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.editLoading},nativeOn:{click:function(e){t.editSubmit(e)}}},[t._v("确定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"新增",visible:t.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.addFormVisible=e}}},[a("el-form",{ref:"addForm",attrs:{model:t.addForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"品牌名称"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.na,callback:function(e){t.$set(t.addForm,"na",e)},expression:"addForm.na"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"品牌图片"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.ul,callback:function(e){t.$set(t.addForm,"ul",e)},expression:"addForm.ul"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(e){t.addFormVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.addLoading},nativeOn:{click:function(e){t.addSubmit(e)}}},[t._v("确定")])],1)],1)],1)],1)},staticRenderFns:[]},S=a("VU/8")(x,$,!1,null,null,null).exports,E={components:{VueUEditor:_.a},data:function(){return{filters:{name:""},tableData:[],total:0,page:1,onePageCount:20,listLoading:!1,sels:[],editFormVisible:!1,editLoading:!1,editFormRules:{tl:[{required:!0,message:"请输入标题",trigger:"blur"}],ul:[{required:!0,message:"请输入封面图片地址",trigger:"blur"}]},editForm:{id:"",tl:"",ab:"",tm:"",ul:"",de:""},currentEdit:null,addFormVisible:!1,addLoading:!1,addForm:{id:"",tl:"",ab:"",tm:"",ul:"",de:""}}},computed:{currentPageData:function(){var t=this.onePageCount;return this.tableData.slice((this.page-1)*t,this.page*t)}},methods:{handleCurrentChange:function(t){this.listLoading=!0,this.page=t,this.handleCurrentData()},handleCurrentData:function(){var t=this;setTimeout(function(){t.listLoading=!1},300+Math.round(200*Math.random()))},getBooks:function(){var t=this;this.listLoading=!0,this.$http({url:"./assets/mongodb/mongodb-news.json",method:"get"}).then(function(e){t.tableData=e.data.news,t.inc=parseInt(e.data.inc),t.total=Math.ceil(t.tableData.length/t.onePageCount),t.listLoading=!1}).catch(function(t){console.log("AdminNews.vue: ",t)})},selsChange:function(t){this.sels=t},editorReadyEditForm:function(t){this.ue_edit=t,t.setHeight(360),t.setContent(this.editForm.de)},editSubmit:function(){var t=this;this.editForm.de=this.ue_edit.getContent(),this.$refs.editForm.validate(function(e){e&&(w()(t.currentEdit,t.editForm),t.editFormVisible=!1)})},showEditDialog:function(t,e){this.editFormVisible=!0,this.editForm=w()({},e),this.currentEdit=e},editorReadyAddForm:function(t){this.ue_add=t,t.setHeight(360)},addSubmit:function(){var t=this;this.addForm.de=this.ue_add.getContent(),this.$refs.addForm.validate(function(e){e&&(t.tableData.unshift(w()({},t.addForm)),t.addFormVisible=!1)})},showAddDialog:function(){w()(this.addForm,{id:++this.inc+"",tl:"",ab:"",tm:"",ul:"",de:""}),this.ue_add&&this.ue_add.setContent(this.addForm.de),this.addFormVisible=!0},delBook:function(t,e){var a=this;this.$confirm("确认删除该条新闻吗?","提示",{type:"warning"}).then(function(){a.tableData.splice(t,1),a.$message({message:"删除成功",type:"success"})},function(){})}},mounted:function(){var t=this;h.$off("is-save-news"),h.$on("is-save-news",function(e){h.jsonRawNews={news:t.tableData,inc:t.inc}})},created:function(){this.getBooks()}},V={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-main",attrs:{span:24}},[a("div",{staticClass:"m-portlet"},[a("div",{staticClass:"m-portlet-body"},[a("div",{staticClass:"el-upload el-upload--picture-card",staticStyle:{width:"100%",height:"90px","line-height":"100px",cursor:"pointer"},on:{click:t.showAddDialog}},[a("i",{staticClass:"el-icon-plus"})])])]),t._v(" "),a("div",{staticClass:"m-portlet marginles"},[a("div",{staticClass:"m-portlet-body"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.currentPageData},on:{"selection-change":t.selsChange}},[a("el-table-column",{attrs:{label:"缩略图(400x400)",prop:"ul",width:"220"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.ul,width:"200"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"tl",label:"标题",width:"250"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ab",label:"摘要"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tm",label:"日期",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){t.showEditDialog(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){t.delBook(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"toolbar-page"},[a("el-pagination",{attrs:{layout:"prev, pager, next","page-size":10,total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)]),t._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:t.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.editFormVisible=e}}},[a("el-form",{ref:"editForm",attrs:{model:t.editForm,"label-width":"100px",rules:t.editFormRules}},[a("el-form-item",{attrs:{label:"标题",prop:"tl"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.tl,callback:function(e){t.$set(t.editForm,"tl",e)},expression:"editForm.tl"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"摘要"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.editForm.ab,callback:function(e){t.$set(t.editForm,"ab",e)},expression:"editForm.ab"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"缩略图",prop:"ul"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.ul,callback:function(e){t.$set(t.editForm,"ul",e)},expression:"editForm.ul"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"日期"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.editForm.tm,callback:function(e){t.$set(t.editForm,"tm",e)},expression:"editForm.tm"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"新闻内容"}},[a("div",{staticStyle:{"line-height":"normal"}},[a("VueUEditor",{attrs:{ueditorPath:"./assets/ueditor/"},on:{ready:t.editorReadyEditForm}})],1)])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(e){t.editFormVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.editLoading},nativeOn:{click:function(e){t.editSubmit(e)}}},[t._v("确定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"新增",visible:t.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.addFormVisible=e}}},[a("el-form",{ref:"addForm",attrs:{model:t.addForm,"label-width":"100px",rules:t.editFormRules}},[a("el-form-item",{attrs:{label:"标题",prop:"tl"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.tl,callback:function(e){t.$set(t.addForm,"tl",e)},expression:"addForm.tl"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"摘要"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.addForm.ab,callback:function(e){t.$set(t.addForm,"ab",e)},expression:"addForm.ab"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"缩略图",prop:"ul"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.ul,callback:function(e){t.$set(t.addForm,"ul",e)},expression:"addForm.ul"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"日期"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.addForm.tm,callback:function(e){t.$set(t.addForm,"tm",e)},expression:"addForm.tm"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"新闻内容"}},[a("div",{staticStyle:{"line-height":"normal"}},[a("VueUEditor",{attrs:{ueditorPath:"./assets/ueditor/"},on:{ready:t.editorReadyAddForm}})],1)])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(e){t.addFormVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.addLoading},nativeOn:{click:function(e){t.addSubmit(e)}}},[t._v("确定")])],1)],1)],1)],1)},staticRenderFns:[]},D=a("VU/8")(E,V,!1,null,null,null).exports;i.default.use(s.a);var L=new s.a({routes:[{path:"/admin/login",name:"Login",component:p},{path:"/",name:"Home",component:b,redirect:"/admin-works",menuShow:!0,children:[{path:"/admin-works",component:y,name:"作品管理",menuShow:!0},{path:"/admin-brands",component:S,name:"品牌管理",menuShow:!0},{path:"/admin-news",component:D,name:"新闻管理",menuShow:!0}]}]});L.beforeEach(function(t,e,a){t.path.startsWith("/admin/login")?(window.sessionStorage.removeItem("access-user"),a()):JSON.parse(window.sessionStorage.getItem("access-user"))?a():a({path:"/admin/login"})});var R=L,T=a("mtWM"),U=a.n(T),B=a("zL8q"),O=a.n(B);a("tvR6");window.UEDITOR_HOME_URL="./assets/ueditor/",i.default.config.productionTip=!1,i.default.prototype.$http=U.a,i.default.use(O.a),new i.default({el:"#app",router:R,components:{WebMain:n},template:"<web-main/>"})},KbAT:function(t,e,a){"use strict";var i={name:"VueUEditor",props:{ueditorPath:{type:String,default:"/static/ueditor/"},ueditorConfig:{type:Object,default:function(){return{}}}},data:function(){return{randomId:"editor_"+1e17*Math.random(),instance:null,scriptTagStatus:0}},created:function(){void 0!==window.UE?(this.scriptTagStatus=2,this.initEditor()):this.insertScriptTag()},beforeDestroy:function(){null!==this.instance&&this.instance.destroy&&this.instance.destroy()},methods:{insertScriptTag:function(){var t=this,e=document.getElementById("editorScriptTag"),a=document.getElementById("configScriptTag");if(null===e){(a=document.createElement("script")).type="text/javascript",a.src=this.ueditorPath+"ueditor.config.js",a.id="configScriptTag",(e=document.createElement("script")).type="text/javascript",e.src=this.ueditorPath+"ueditor.all.min.js",e.id="editorScriptTag";var i=document.getElementsByTagName("head")[0];i.appendChild(a),i.appendChild(e)}a.loaded?this.scriptTagStatus++:a.addEventListener("load",function(){t.scriptTagStatus++,a.loaded=!0,t.initEditor()}),e.loaded?this.scriptTagStatus++:e.addEventListener("load",function(){t.scriptTagStatus++,e.loaded=!0,t.initEditor()}),this.initEditor()},initEditor:function(){var t=this;2===this.scriptTagStatus&&null===this.instance&&this.$nextTick(function(){t.instance=window.UE.getEditor(t.randomId,t.ueditorConfig),t.instance.addListener("ready",function(){t.$emit("ready",t.instance)})})}}},o={render:function(){var t=this.$createElement;return(this._self._c||t)("script",{attrs:{id:this.randomId,name:"content",type:"text/plain"}})},staticRenderFns:[]},n=a("VU/8")(i,o,!1,null,null,null);e.a=n.exports},Ul7i:function(t,e){},dS2y:function(t,e){},neSg:function(t,e){},sWE4:function(t,e){},tvR6:function(t,e){}},["8rBr"]);